# План доработки HR Platform v2.0 (Production-Ready Audit)

Этот документ содержит результаты комплексного аудита кодовой базы и пошаговый план действий для доведения проекта до состояния Production-Ready.

---

## 1. Общие улучшения (Shared & Infrastructure)

### 1.1 UI/UX и Дизайн-система
- [x] **Логотип и брендинг**: В `DashboardLayout.tsx` реализовано отображение логотипа и названия организации.
- [x] **Меню пользователя**: В `DashboardLayout.tsx` реализовано полноценное меню пользователя.
- [x] **Пустые состояния (Empty States)**: Реализованы во всех основных списках.
- [x] **Уведомления (Toast)**: Реализованы с использованием `sonner`.
- [x] **Диалоги**: `VacancyFunnel.tsx` переписан на декларативный подход без `createRoot`.

### 1.2 Код и Типизация
- [ ] **ESLint**: Устранить все предупреждения линтера.
- [ ] **TypeScript**: Провести полный проход `tsc --noEmit` и устранить все ошибки типов.
- [ ] **API Клиент**: Централизовать обработку ошибок Supabase.

---

## 2. Модуль Аутентификации (Auth)

### 2.1 Регистрация и Вход
- [x] **Подтверждение Email**: Реализована обработка состояния неподтвержденного email.
- [x] **Восстановление пароля**: Реализован flow восстановления пароля ("Забыли пароль?") в `AuthForm.tsx`.

---

## 3. Модуль Управления Вакансиями (Vacancy Management)

### 3.1 Список вакансий
- [x] **Действия с вакансией**: Реализованы действия "Редактировать" и "Архивировать" в `VacancyList.tsx`.
- [x] **Навыки вакансии**: Реализован выбор навыков из справочника при создании/редактировании вакансии (bubbles/badges).

### 3.2 Воронка (Funnel)
- [x] **Оптимизация Drag & Drop**: Реализовано с `@dnd-kit`.
- [x] **Мобильная версия**: Адаптировано с использованием табов для мобильных устройств.

---

## 4. Модуль Кандидатов и Тестирования (Candidate & Testing)

### 4.1 Дашборд кандидата
- [x] **Заглушки**: Устранены, используется `Skeleton`.
- [x] **API Visibility**: Логика вынесена в API слой.

### 4.2 Результаты тестов
- [x] **Скачивание PDF**: Реализовано с использованием `html2canvas` и `jspdf`.
- [x] **Пересдача**: Реализована логика проверки доступности пересдачи.

---

## 5. Модуль AI и Рынков талантов (AI & Talent Market)

### 5.1 Рынок талантов
- [x] **Фильтры**: Реализован сброс фильтров.
- [x] **Типизация**: Исправлено использование `any`.
- [x] **Словарь навыков**: Создано ТЗ для генерации обширного словаря навыков (`SKILLS_GENERATION_PROMPT.md`).

---

## 6. Модуль Чата и Платежей (Chat & Payments)

### 6.1 Покупка токенов
- [x] **Безопасность**: Реализована генерация подписи через Edge Function.

### 6.2 Чат
- [x] **Вложения**: Реализована отправка файлов.
- [ ] **Статусы**: Проверить реализацию статуса "Прочитано" (логика есть, проверить UI).

---

## 7. Инфраструктура (DevOps & Backend)

### 7.1 Edge Functions
- [ ] **Переменные окружения**: Проверить наличие секретов в проекте Supabase.
- [x] **Обработка ошибок**: Реализована во всех функциях.

### 7.2 База данных
- [x] **Индексы**: Добавлены миграции с индексами.
- [ ] **Бэкапы**: Настроить регулярное резервное копирование (PITR) в Supabase.

---

## 8. Финальная подготовка к релизу

- [ ] **Документация**: Создать `DEPLOYMENT.md` с инструкцией по развертыванию.
- [ ] **Тестирование**: Составить план ручного тестирования (`TESTING_PLAN.md`).
- [ ] **Финальный прогон**: Запустить билд `npm run build` для проверки отсутствия ошибок сборки.
