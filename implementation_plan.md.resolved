# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: AI-–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è HR-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤

**–¶–µ–ª—å:** –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ AI-–ø–æ–º–æ—â–Ω–∏–∫–∞ —Å –ø–æ–ª–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è HR-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤.

---

## üìã –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç ‚Äî —ç—Ç–æ —á–∞—Ç-–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π:
- **–ó–Ω–∞–µ—Ç –≤—Å—ë** –æ –≤–∞–∫–∞–Ω—Å–∏—è—Ö, –∫–∞–Ω–¥–∏–¥–∞—Ç–∞—Ö, –∫—É–ª—å—Ç—É—Ä–µ –∫–æ–º–ø–∞–Ω–∏–∏, –∏—Å—Ç–æ—Ä–∏–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
- **–û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã** HR-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞ –≤ —Ä–µ–∂–∏–º–µ –¥–∏–∞–ª–æ–≥–∞
- **–î–∞—ë—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- **–ü–æ–º–æ–≥–∞–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è** –ø–æ –Ω–∞–π–º—É
- **Streaming –æ—Ç–≤–µ—Ç–æ–≤** ‚Äî —Ç–µ–∫—Å—Ç –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### –ö–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è (—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ):
- ‚úÖ Streaming –æ—Ç–≤–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ SSE
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Anthropic Claude –∏ Google Gemini (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `ai_models`)
- ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Å–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –∫–∞–∫ –≤ –¥—Ä—É–≥–∏—Ö AI-—Ñ—É–Ω–∫—Ü–∏—è—Ö
- ‚úÖ –ë–µ–∑ –ª–∏–º–∏—Ç–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ –±–∞–ª–∞–Ω—Å—É —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π, –±—ã—Å—Ç—Ä—ã–π, –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–Ω—ã–π UI

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

| –†–µ–∂–∏–º | –û–ø–∏—Å–∞–Ω–∏–µ | –ö–æ–Ω—Ç–µ–∫—Å—Ç |
|-------|----------|----------|
| **–ì–ª–æ–±–∞–ª—å–Ω—ã–π** | –î–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –¥–∞–Ω–Ω—ã–º –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ | –í—Å–µ –≤–∞–∫–∞–Ω—Å–∏–∏, –≤—Å–µ –∫–∞–Ω–¥–∏–¥–∞—Ç—ã, –≤—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ |
| **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π** | –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ | –û—Ç–∫—Ä—ã—Ç –∏–∑ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤–∞–∫–∞–Ω—Å–∏–∏/–∫–∞–Ω–¥–∏–¥–∞—Ç–∞ |

---

## üóÑ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –ù–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã

#### `ai_assistant_conversations`

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | uuid | PK |
| `created_at` | timestamptz | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |
| `updated_at` | timestamptz | –ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ |
| `organization_id` | uuid | FK ‚Üí organizations |
| `hr_specialist_id` | uuid | FK ‚Üí hr_specialists |
| `title` | text | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ |
| `context_type` | text | 'global', 'vacancy', 'candidate' |
| `context_entity_id` | uuid | ID —Å—É—â–Ω–æ—Å—Ç–∏ (–µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π —Ä–µ–∂–∏–º) |

#### `ai_assistant_messages`

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | uuid | PK |
| `created_at` | timestamptz | –í—Ä–µ–º—è —Å–æ–æ–±—â–µ–Ω–∏—è |
| `conversation_id` | uuid | FK ‚Üí ai_assistant_conversations |
| `role` | text | 'user' –∏–ª–∏ 'assistant' |
| `content` | text | –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è |
| `tokens_used` | integer | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã |
| `metadata` | jsonb | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ü–∏—Ç–∞—Ç—ã, –∏—Å—Ç–æ—á–Ω–∏–∫–∏) |

### –ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å –≤ `ai_prompts`

```sql
INSERT INTO ai_prompts (operation_type, version, prompt_text, is_active) VALUES
('ai_assistant', 'v1', '...—Å–º. –Ω–∏–∂–µ...', true);
```

### –ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å –≤ `ai_models`

```sql
INSERT INTO ai_models (operation_type, provider, model_name, is_active, max_output_tokens, temperature)
VALUES ('ai_assistant', 'anthropic', 'claude-sonnet-4-20250514', true, 4096, 0.7);
```

---

## üß† –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç

```markdown
–¢—ã ‚Äî HR-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ "{organization_name}".

–ö–û–ù–¢–ï–ö–°–¢ –û–†–ì–ê–ù–ò–ó–ê–¶–ò–ò:
- –ù–∞–∑–≤–∞–Ω–∏–µ: {organization_name}
- –ö—É–ª—å—Ç—É—Ä–∞ –∫–æ–º–ø–∞–Ω–∏–∏: {culture_description}
- –ê–∫—Ç–∏–≤–Ω—ã—Ö –≤–∞–∫–∞–Ω—Å–∏–π: {vacancies_count}
- –ö–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –≤ —Ä–∞–±–æ—Ç–µ: {candidates_count}
- –ë–∞–ª–∞–Ω—Å —Ç–æ–∫–µ–Ω–æ–≤: {token_balance}

–¢–ï–ö–£–©–ò–ï –í–ê–ö–ê–ù–°–ò–ò:
{vacancies_summary}

–ö–ê–ù–î–ò–î–ê–¢–´ (—Ç–æ–ø-20 –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏):
{candidates_summary}

–í–û–†–û–ù–ö–ê –ù–ê–ô–ú–ê (–∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞):
{funnel_stats}

---

–ü–†–ê–í–ò–õ–ê:
1. –û—Ç–≤–µ—á–∞–π –Ω–∞ —è–∑—ã–∫–µ: {user_language}
2. –ë—É–¥—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º, —Å—Å—ã–ª–∞–π—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
3. –ï—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—à—å ‚Äî —á–µ—Å—Ç–Ω–æ –ø—Ä–∏–∑–Ω–∞–π —ç—Ç–æ
4. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ–¥–∫—Ä–µ–ø–ª—è–π –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –ø—Å–∏—Ö–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤
5. –ù–µ –≤—ã–¥—É–º—ã–≤–∞–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞—Ö
6. –°–æ–±–ª—é–¥–∞–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ HR —ç—Ç–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

–í–û–ü–†–û–° –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø:
{user_message}

–ò–°–¢–û–†–ò–Ø –î–ò–ê–õ–û–ì–ê (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Å–æ–æ–±—â–µ–Ω–∏–π):
{conversation_history}
```

---

## ‚ö° Edge Function: `ai-assistant`

### Streaming Response

Edge Function –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Server-Sent Events (SSE)** –¥–ª—è streaming:

```typescript
// Response headers –¥–ª—è streaming
const headers = {
  'Content-Type': 'text/event-stream',
  'Cache-Control': 'no-cache',
  'Connection': 'keep-alive',
  ...corsHeaders
};

// Anthropic streaming
const stream = await anthropic.messages.stream({
  model: config.model_name,
  max_tokens: config.max_output_tokens,
  messages: [{ role: 'user', content: prompt }]
});

for await (const event of stream) {
  if (event.type === 'content_block_delta') {
    controller.enqueue(`data: ${JSON.stringify({ text: event.delta.text })}\n\n`);
  }
}
```

### Context Builder (–∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ)

–°–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–º–ø—Ç–∞:
- –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è (–Ω–∞–∑–≤–∞–Ω–∏–µ, –∫—É–ª—å—Ç—É—Ä–∞, –±–∞–ª–∞–Ω—Å)
- –í–∞–∫–∞–Ω—Å–∏–∏ (–∞–∫—Ç–∏–≤–Ω—ã–µ, —Å –Ω–∞–≤—ã–∫–∞–º–∏)
- –ö–∞–Ω–¥–∏–¥–∞—Ç—ã (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å —Ç–µ—Å—Ç–∞–º–∏)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–æ—Ä–æ–Ω–∫–∏
- –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π —Ä–µ–∂–∏–º ‚Äî –¥–µ—Ç–∞–ª–∏ —Å—É—â–Ω–æ—Å—Ç–∏
  
  // 4. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–æ—Ä–æ–Ω–∫–∏
  const funnelStats = await supabase.from('applications')
    .select('status')
    .eq('organization_id', organizationId);
  
  // 5. –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π —Ä–µ–∂–∏–º ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—É—â–Ω–æ—Å—Ç–∏
  let focusedEntity = null;
  if (contextType === 'vacancy' && contextEntityId) {
    focusedEntity = await getVacancyDetails(supabase, contextEntityId);
  } else if (contextType === 'candidate' && contextEntityId) {
    focusedEntity = await getCandidateDetails(supabase, contextEntityId, organizationId);
  }
  
  // 6. –ò—Å—Ç–æ—Ä–∏—è AI-–æ–ø–µ—Ä–∞—Ü–∏–π (–¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è, —á—Ç–æ —É–∂–µ –¥–µ–ª–∞–ª–∏)
  const recentAIOperations = await supabase.from('ai_operations_log')
    .select('operation_type, created_at, metadata')
    .eq('organization_id', organizationId)
    .order('created_at', { ascending: false })
    .limit(10);
  
  return { org, vacancies, candidates, funnelStats, focusedEntity, recentAIOperations };
}
```

### –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏

```typescript
function formatPrompt(context: OrganizationContext, userMessage: string, history: Message[]): string {
  const vacanciesSummary = context.vacancies.map(v => 
    `- ${v.title} (${v.status}): ${v.salary_min}-${v.salary_max} ${v.currency}, –Ω–∞–≤—ã–∫–∏: ${v.vacancy_skills.map(s => s.canonical_skill).join(', ')}`
  ).join('\n');
  
  const candidatesSummary = context.candidates.map(c =>
    `- ${c.full_name} | –¢–µ—Å—Ç—ã: ${c.tests_completed}/6 | –°—Ç–∞—Ç—É—Å: ${c.status || '–Ω–µ—Ç –∑–∞—è–≤–æ–∫'}`
  ).join('\n');
  
  const funnelStats = {
    invited: context.funnelStats.filter(a => a.status === 'invited').length,
    testing: context.funnelStats.filter(a => a.status === 'testing').length,
    evaluated: context.funnelStats.filter(a => a.status === 'evaluated').length,
    interview: context.funnelStats.filter(a => a.status === 'interview').length,
    offer: context.funnelStats.filter(a => a.status === 'offer').length,
    hired: context.funnelStats.filter(a => a.status === 'hired').length,
    rejected: context.funnelStats.filter(a => a.status === 'rejected').length,
  };
  
  // –ü–æ–¥—Å—Ç–∞–≤–ª—è–µ–º –≤ —à–∞–±–ª–æ–Ω —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
  return systemPromptTemplate
    .replace('{organization_name}', context.org.name)
    .replace('{culture_description}', context.org.culture_description || '–ù–µ —É–∫–∞–∑–∞–Ω–∞')
    .replace('{vacancies_count}', String(context.vacancies.length))
    .replace('{candidates_count}', String(context.candidates.length))
    .replace('{vacancies_summary}', vacanciesSummary)
    .replace('{candidates_summary}', candidatesSummary)
    .replace('{funnel_stats}', JSON.stringify(funnelStats, null, 2))
    .replace('{user_message}', userMessage)
    .replace('{conversation_history}', formatHistory(history));
}
```

---

## üé® Frontend UI

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ

**–ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞:**
- –ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ (Floating Action Button) –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É
- –í–∏–¥–Ω–∞ –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö HR-—Ä–∞–∑–¥–µ–ª–∞
- –ü—Ä–∏ –∫–ª–∏–∫–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —á–∞—Ç-–ø–∞–Ω–µ–ª—å

**–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞:**
- –ö–Ω–æ–ø–∫–∞ "–°–ø—Ä–æ—Å–∏—Ç—å AI" –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤–∞–∫–∞–Ω—Å–∏–∏
- –ö–Ω–æ–ø–∫–∞ "–°–ø—Ä–æ—Å–∏—Ç—å AI" –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```
src/features/ai-assistant/
‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îú‚îÄ‚îÄ AIAssistantButton.tsx      # –ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ AIAssistantPanel.tsx       # –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —á–∞—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ AIAssistantMessage.tsx     # –°–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç–µ
‚îÇ   ‚îú‚îÄ‚îÄ AIAssistantInput.tsx       # –ü–æ–ª–µ –≤–≤–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ AIAssistantHistory.tsx     # –°–ø–∏—Å–æ–∫ –ø—Ä–æ—à–ª—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ AIAssistantSuggestions.tsx # –ü–æ–¥—Å–∫–∞–∑–∫–∏ –≤–æ–ø—Ä–æ—Å–æ–≤
‚îî‚îÄ‚îÄ api/
    ‚îú‚îÄ‚îÄ sendMessage.ts             # –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ getConversations.ts        # –°–ø–∏—Å–æ–∫ –¥–∏–∞–ª–æ–≥–æ–≤
    ‚îî‚îÄ‚îÄ getConversationMessages.ts # –ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞
```

### UX –ü—Ä–∏–Ω—Ü–∏–ø—ã

- **–ú–∏–Ω–∏–º–∞–ª–∏–∑–º** ‚Äî –Ω–∏–∫–∞–∫–∏—Ö –ª–∏—à–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–°–∫–æ—Ä–æ—Å—Ç—å** ‚Äî streaming, –±—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–ª–∏–∫
- **Glassmorphism** ‚Äî —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–ü–æ–¥—Å–∫–∞–∑–∫–∏** ‚Äî 3 –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏

---

## üí∞ –¢–∞—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è

- –°–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –ø–æ —Ñ–∞–∫—Ç—É (input + output) ‚Äî **–∫–∞–∫ –≤ –¥—Ä—É–≥–∏—Ö AI-—Ñ—É–Ω–∫—Ü–∏—è—Ö**
- –£—á—ë—Ç –≤ `ai_operations_log` —Å `operation_type = 'ai_assistant'`
- –°–º–µ–Ω–∞ –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—É `ai_models` (Anthropic ‚Üî Gemini)

---

## üìã –≠—Ç–∞–ø—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: Backend
- –ú–∏–≥—Ä–∞—Ü–∏—è: —Ç–∞–±–ª–∏—Ü—ã + –∑–∞–ø–∏—Å–∏ –≤ `ai_prompts`/`ai_models`
- Edge Function `ai-assistant` —Å–æ streaming

### –≠—Ç–∞–ø 2: Frontend
- `AIAssistantButton` + `AIAssistantPanel`
- Streaming —á–µ—Ä–µ–∑ EventSource
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `DashboardLayout`

### –≠—Ç–∞–ø 3: UX/–ü–æ–ª–∏—Ä–æ–≤–∫–∞
1. Streaming –æ—Ç–≤–µ—Ç–æ–≤
2. –ü–æ–¥—Å–∫–∞–∑–∫–∏ –≤–æ–ø—Ä–æ—Å–æ–≤
3. –ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤
4. –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (ru, kk, en)

---

## ‚úÖ Verification Plan

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
- –í –ø—Ä–æ–µ–∫—Ç–µ –Ω–µ—Ç unit-—Ç–µ—Å—Ç–æ–≤ –¥–ª—è Edge Functions ‚Äî **—Ä—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–ë–∞–∑–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å:**
   - –û—Ç–∫—Ä—ã—Ç—å –¥–∞—à–±–æ—Ä–¥ HR
   - –ù–∞–∂–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ (–ø—Ä–∞–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª)
   - –í–≤–µ—Å—Ç–∏: "–°–∫–æ–ª—å–∫–æ —É –Ω–∞—Å –∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–∞–∫–∞–Ω—Å–∏–π?"
   - **–û–∂–∏–¥–∞–Ω–∏–µ:** –û—Ç–≤–µ—Ç —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º —á–∏—Å–ª–æ–º –≤–∞–∫–∞–Ω—Å–∏–π

2. **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å (–≤–∞–∫–∞–Ω—Å–∏—è):**
   - –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–∞–∫–∞–Ω—Å–∏–∏
   - –ù–∞–∂–∞—Ç—å "–°–ø—Ä–æ—Å–∏—Ç—å AI"
   - –í–≤–µ—Å—Ç–∏: "–ö–æ–≥–æ –ª—É—á—à–µ –ø—Ä–∏–≥–ª–∞—Å–∏—Ç—å –Ω–∞ —ç—Ç—É –ø–æ–∑–∏—Ü–∏—é?"
   - **–û–∂–∏–¥–∞–Ω–∏–µ:** –û—Ç–≤–µ—Ç —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –∏–∑ —Ä—ã–Ω–∫–∞ —Ç–∞–ª–∞–Ω—Ç–æ–≤

3. **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å (–∫–∞–Ω–¥–∏–¥–∞—Ç):**
   - –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
   - –ù–∞–∂–∞—Ç—å "–°–ø—Ä–æ—Å–∏—Ç—å AI"
   - –í–≤–µ—Å—Ç–∏: "–†–∞—Å—Å–∫–∞–∂–∏ –ø—Ä–æ —ç—Ç–æ–≥–æ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞"
   - **–û–∂–∏–¥–∞–Ω–∏–µ:** –°—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª—è, —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–æ–≤

4. **–ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤:**
   - –°–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–∏–∞–ª–æ–≥–æ–≤
   - –ó–∞–∫—Ä—ã—Ç—å/–æ—Ç–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å
   - **–û–∂–∏–¥–∞–Ω–∏–µ:** –î–∏–∞–ª–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏ –¥–æ—Å—Ç—É–ø–Ω—ã

5. **–°–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å –¥–æ –∑–∞–ø—Ä–æ—Å–∞
   - –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å –ø–æ—Å–ª–µ
   - **–û–∂–∏–¥–∞–Ω–∏–µ:** –¢–æ–∫–µ–Ω—ã —Å–ø–∏—Å–∞–ª–∏—Å—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –¢–ó —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ, –≥–æ—Ç–æ–≤–æ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
